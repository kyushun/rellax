!function (e, t) { "function" == typeof define && define.amd ? define([], t) : "object" == typeof module && module.exports ? module.exports = t() : e.Rellax = t() }("undefined" != typeof window ? window : global, function () { var e = function (t, o) { var n = Object.create(e.prototype), r = 0, i = 0, a = 0, l = 0, s = [], p = !0, d = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (e) { return setTimeout(e, 1e3 / 60) }, c = null, m = !1; try { var u = Object.defineProperty({}, "passive", { get: function () { m = !0 } }); window.addEventListener("testPassive", null, u), window.removeEventListener("testPassive", null, u) } catch (e) { } var w = window.cancelAnimationFrame || window.mozCancelAnimationFrame || clearTimeout, f = window.transformProp || function () { var e = document.createElement("div"); if (null === e.style.transform) { var t, o = ["Webkit", "Moz", "ms"]; for (t in o) if (void 0 !== e.style[o[t] + "Transform"]) return o[t] + "Transform" } return "transform" }(); if (n.options = { speed: -2, verticalSpeed: null, horizontalSpeed: null, center: !1, wrapper: null, relativeToWrapper: !1, round: !0, vertical: !0, horizontal: !1, verticalScrollAxis: "y", horizontalScrollAxis: "x", callback: function () { } }, o && Object.keys(o).forEach(function (e) { n.options[e] = o[e] }), t || (t = ".rellax"), 0 < (u = "string" == typeof t ? document.querySelectorAll(t) : [t]).length) { if (n.elems = u, n.options.wrapper && !n.options.wrapper.nodeType) { if (!(u = document.querySelector(n.options.wrapper))) return void console.warn("Rellax: The wrapper you're trying to use doesn't exist."); n.options.wrapper = u } var x = function () { for (var e = 0; e < s.length; e++)n.elems[e].style.cssText = s[e].style; for (s = [], i = window.innerHeight, l = window.innerWidth, v(), e = 0; e < n.elems.length; e++) { var t = n.elems[e], o = t.getAttribute("data-rellax-percentage"), r = t.getAttribute("data-rellax-speed"), a = t.getAttribute("data-rellax-vertical-speed"), d = t.getAttribute("data-rellax-horizontal-speed"), c = t.getAttribute("data-rellax-vertical-scroll-axis"), m = t.getAttribute("data-rellax-horizontal-scroll-axis"), u = t.getAttribute("data-rellax-zindex") || 0, w = t.getAttribute("data-rellax-min"), f = t.getAttribute("data-rellax-max"), g = t.getAttribute("data-rellax-min-x"), A = t.getAttribute("data-rellax-max-x"), z = t.getAttribute("data-rellax-min-y"), T = t.getAttribute("data-rellax-max-y"), E = n.options.wrapper ? n.options.wrapper.scrollTop : window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop; n.options.relativeToWrapper && (E = (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop) - n.options.wrapper.offsetTop); var L = n.options.vertical && (o || n.options.center) ? E : 0, S = n.options.horizontal && (o || n.options.center) ? n.options.wrapper ? n.options.wrapper.scrollLeft : window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft : 0; E = L + t.getBoundingClientRect().top; var O = t.clientHeight || t.offsetHeight || t.scrollHeight, Y = S + t.getBoundingClientRect().left, X = t.clientWidth || t.offsetWidth || t.scrollWidth; L = o || (L - E + i) / (O + i), o = o || (S - Y + l) / (X + l), n.options.center && (L = o = .5), r = r || n.options.speed, a = a || n.options.verticalSpeed, d = d || n.options.horizontalSpeed, c = c || n.options.verticalScrollAxis, m = m || n.options.horizontalScrollAxis, L = h(o, L, r, a, d), t = t.style.cssText, o = "", (S = /transform\s*:/i.exec(t)) && (o = (S = (o = t.slice(S.index)).indexOf(";")) ? " " + o.slice(11, S).replace(/\s/g, "") : " " + o.slice(11).replace(/\s/g, "")), s.push({ baseX: L.x, baseY: L.y, top: E, left: Y, height: O, width: X, speed: r, verticalSpeed: a, horizontalSpeed: d, verticalScrollAxis: c, horizontalScrollAxis: m, style: t, transform: o, zindex: u, min: w, max: f, minX: g, maxX: A, minY: z, maxY: T }) } b(), p && (window.addEventListener("resize", x), p = !1, y()) }, v = function () { var e = r, t = a; return r = n.options.wrapper ? n.options.wrapper.scrollTop : (document.documentElement || document.body.parentNode || document.body).scrollTop || window.pageYOffset, a = n.options.wrapper ? n.options.wrapper.scrollLeft : (document.documentElement || document.body.parentNode || document.body).scrollLeft || window.pageXOffset, n.options.relativeToWrapper && (r = ((document.documentElement || document.body.parentNode || document.body).scrollTop || window.pageYOffset) - n.options.wrapper.offsetTop), !!(e != r && n.options.vertical || t != a && n.options.horizontal) }, h = function (e, t, o, r, i) { var a = {}; return e = 100 * (i || o) * (1 - e), t = 100 * (r || o) * (1 - t), a.x = n.options.round ? Math.round(e) : Math.round(100 * e) / 100, a.y = n.options.round ? Math.round(t) : Math.round(100 * t) / 100, a }, g = function () { window.removeEventListener("resize", g), window.removeEventListener("orientationchange", g), (n.options.wrapper ? n.options.wrapper : window).removeEventListener("scroll", g), (n.options.wrapper ? n.options.wrapper : document).removeEventListener("touchmove", g), c = d(y) }, y = function () { v() && !1 === p ? (b(), c = d(y)) : (c = null, window.addEventListener("resize", g), window.addEventListener("orientationchange", g), (n.options.wrapper ? n.options.wrapper : window).addEventListener("scroll", g, !!m && { passive: !0 }), (n.options.wrapper ? n.options.wrapper : document).addEventListener("touchmove", g, !!m && { passive: !0 })) }, b = function () { for (var e, t = 0; t < n.elems.length; t++) { var o = s[t].verticalScrollAxis.toLowerCase(), p = s[t].horizontalScrollAxis.toLowerCase(); e = -1 != o.indexOf("x") ? r : 0, o = -1 != o.indexOf("y") ? r : 0; var d = -1 != p.indexOf("x") ? a : 0; p = -1 != p.indexOf("y") ? a : 0, p = (e = h((e + d - s[t].left + l) / (s[t].width + l), (o + p - s[t].top + i) / (s[t].height + i), s[t].speed, s[t].verticalSpeed, s[t].horizontalSpeed)).y - s[t].baseY, o = e.x - s[t].baseX, null !== s[t].min && (n.options.vertical && !n.options.horizontal && (p = p <= s[t].min ? s[t].min : p), n.options.horizontal && !n.options.vertical && (o = o <= s[t].min ? s[t].min : o)), null != s[t].minY && (p = p <= s[t].minY ? s[t].minY : p), null != s[t].minX && (o = o <= s[t].minX ? s[t].minX : o), null !== s[t].max && (n.options.vertical && !n.options.horizontal && (p = p >= s[t].max ? s[t].max : p), n.options.horizontal && !n.options.vertical && (o = o >= s[t].max ? s[t].max : o)), null != s[t].maxY && (p = p >= s[t].maxY ? s[t].maxY : p), null != s[t].maxX && (o = o >= s[t].maxX ? s[t].maxX : o), n.elems[t].style[f] = "translate3d(" + (n.options.horizontal ? o : "0") + "px," + (n.options.vertical ? p : "0") + "px," + s[t].zindex + "px) " + s[t].transform } n.options.callback(e) }; return n.destroy = function () { for (var e = 0; e < n.elems.length; e++)n.elems[e].style.cssText = s[e].style; p || (window.removeEventListener("resize", x), p = !0), w(c), c = null }, x(), n.refresh = x, n } console.warn("Rellax: The elements you're trying to select don't exist.") }; return e });